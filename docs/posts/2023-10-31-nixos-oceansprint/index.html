<!DOCTYPE html>
<html lang="en" itemscope="" itemtype="http://schema.org/WebPage">
 <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="alternate" type="application/atom+xml" title="marijan" href="/posts/feed.atom">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="preload" href="/images/icons.svg" as="image" type="image/svg+xml">
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
  <link rel="stylesheet" type="text/css" href="/css/syntax.css">
  <script src="/js/analytics.js"></script>
  <script src="https://analytics.marijan.pro/matomo.js" async="" defer=""></script>
  <script src="/js/theme-state.js"></script>
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <meta name="robots" content="noai, noimageai">
  <meta name="twitter:site" content="@marijanpe">
  <title>
   NixOS Ocean Sprint October 2023 - A report - marijan
  </title>
  <meta content="A report about the NixOS Ocean Sprint which is the ideal opportunity to meet fellow contributors and users from the Nix community. People from all over the world gathered in one house on the sunny Canary Island of Lanzarote to contribute and share insights or discuss topics about the Nix ecosystem. In addition, in between coding sessions, there are plenty of exciting activities like diving, surfing, cycling, drumming, etc. one can do together with amazing people." name="description">
 </head>
 <body>
  <header class="bg-base-100">
   <div class="max-w-2xl m-auto">
    <nav class="navbar">
     <div class="navbar-start">
      <ul class="menu menu-horizontal">
       <li>
        <a href="/">Home</a>
       </li>
       <li>
        <a href="/posts/">Posts</a>
       </li>
      </ul>
     </div>
     <div class="navbar-end">
      <div>
       <ul class="menu menu-horizontal text-xl">
        <li>
         <a href="https://git.sr.ht/~marijan/">
                      
         <svg class="icon" viewbox="0 0 24 24">
          
                        
          <use href="/images/icons.svg#sourcehut"></use>
          
                      
         </svg>
         
                    
        </a>
       </li>
       <li>
        <a href="https://github.com/marijanp">
                      
        <svg class="icon" viewbox="0 0 24 24">
         
                        
         <use href="/images/icons.svg#github"></use>
         
                      
        </svg>
        
                    
       </a>
      </li>
      <li>
       <label class="swap swap-rotate">
                      
                      <input id="themeController" onclick="saveThemeState()" type="checkbox" class="theme-controller" value="nord">
                      
       <svg class="swap-on icon" viewbox="0 0 24 24">
        
                        
        <use href="/images/icons.svg#moon"></use>
        
                      
       </svg>
       
                      
       <svg class="swap-off icon" viewbox="0 0 24 24">
        
                        
        <use href="/images/icons.svg#sun"></use>
        
                      
       </svg>
       
                    
      </label>
     </li>
    </ul>
   </div>
  </div>
 </nav>
</div>
</header>
<main>
<div class="max-w-prose m-auto">
 <div id="content" class="pt-4 px-4 md:px-0">
  <article class="prose">
   <h1 id="title">
    NixOS Ocean Sprint October 2023 - A report
   </h1>
   <p></p>
   <address>
    By <a rel="author">Marijan</a>
   </address>
   on <time id="post-date" datetime="2023-10-31">2023-10-31</time>
   <p></p>
   <p>
    The NixOS Ocean Sprint <a href="https://oceansprint.org/">oceansprint.org</a> is the ideal
opportunity to meet fellow contributors and users from the Nix
community. People from all over the world gathered in one house on the
sunny Canary Island of Lanzarote to contribute and share insights or
discuss topics about the Nix ecosystem. In addition, in between coding
sessions, there are plenty of exciting activities like diving, surfing,
cycling, drumming, etc. one can do together with amazing people.
   </p>
   <p>
    For that reason, I have been participating for the second time
now!
   </p>
   <p>
    In the following article, I will go into more detail about the
location, the daily schedule, the projects people worked on, and the
activities we did at the October 2023 sprint.
   </p>
   <p>
    But first, let me start with a big thank you to the event’s
organizers: Neyts Zupan, Domen Kožar, and Florian Friesdorf.
   </p>
   <h2>
    The Location
   </h2>
   <p>
    As the name “Ocean Sprint” suggests, the location of the sprint was
close to the ocean, more precisely on the Canary Island of Lanzarote at
the Atlantic Ocean. The sprint’s venue was a beautiful villa in the town
of Costa Teguise called <a href="https://house.niteo.co/">Niteo
House</a>, providing enough space for 30 people and a water cooling
solution for hackers (a pool), which is more than needed with outside
temperatures of about 28°C (82.4°F).
   </p>
   <h2>
    The Schedule
   </h2>
   <p>
    The opening of the sprint happened on the Sunday evening before the
sprint week. The participants met at a local restaurant and had dinner
together. Unfortunately, I arrived late because I landed at 8 p.m. and
missed the welcoming speech and the briefing. But I was informed that it
was the same as in the past: everyone was welcomed, and rules regarding
the venue and social rules (only speak English, wear your nametag) were
made. Last but not least, there was a shout-out to the amazing <a href="https://oceansprint.org/#sponsors">sponsors</a> who make awesome
events like this happen!
   </p>
   <p>
    The daily schedule during the sprint looked like the following:
   </p>
   <p>
    Some of the participants woke up quite early to have a swim at the
beach and to enjoy the beautiful sunrise.
   </p>
   <p>
    Starting from 9 p.m. the breakfast buffet opened at the venue. From
then on, the participants began to arrive one by one. The main topic at
breakfast was Nix and the projects people were working on (who would
have guessed). The transition from breakfast to productive work was
seamless. People naturally continued to work on their topics until
lunch.
   </p>
   <p>
    Lunch was served at the venue, too, and fulfilled the purpose of a
necessary break between working sessions.
   </p>
   <p>
    Some afternoons have been reserved for organized joint activities,
where people could join in case they needed a break without any
obligations (I will give you an idea about some of the activities in
more detail later). The afternoon work session continued until the daily
stand-up at 7 p.m., where people had the chance to inform others about
their progress or the blockers they experienced. Afterward, we had
dinner together. Like Paella, authentic Neapolitan pizza made by a
fellow Italian software engineer, and even freshly caught tuna steaks
grilled by Neyts (one of the organizers).
   </p>
   <p>
    And on most evenings after dinner, some people didn’t have enough Nix
during the day and continued to be productive. A wise choice, given that
you probably won’t have a chance anytime soon to work in person.
   </p>
   <figure>
    <img class="m-auto md:h-72" src="/images/nixos-oceansprint-2023-10/pizza.jpg" alt="Authentic Neoplitan pizza.">
    <figcaption class="m-auto text-center">
     Authentic Neapolitan pizza made by a fellow Italian software engineer
    </figcaption>
   </figure>
   <h2>
    The projects
   </h2>
   <p>
    In the following, I’ve tried to summarize some of the projects people
were working on, but this is just a fraction of what was done. To get a
more detailed overview, we maintained a daily stand-up transcript, which
you can find <a href="https://pad.lassul.us/os23-projects">here</a>.
   </p>
   <h3>
    lighthouse-flake
   </h3>
   <p>
    With the help of David (<a href="https://github.com/DavHau">@DavHau</a>) and Johannes (<a href="https://github.com/hsjobeki">@hsjobeki</a>), I finally managed to
package <a href="https://github.com/GoogleChrome/lighthouse">Google
lightouse</a> a web page and web app auditing tool. It was packaged
using <a href="https://github.com/nix-community/dream2nix">dream2nix</a>
and was added to <a href="https://github.com/nix-community/dreampkgs/blob/fe55c40a0fb1652d5ef5cc74d9d86d0249c6d244/packages/lighthouse/default.nix">dreampkgs</a>.
   </p>
   <p>
    Packaging Google lighthouse was the first step towards creating <a href="https://github.com/marijanp/lighthouse-flake">lighthouse-flake</a>,
which is a <a href="https://flake.parts/">flake-parts</a> module that
enables you to add one or more audit checks to your flake by simply
defining the path to your frontend and the criteria score (performance,
accessibility, SEO, and best-practices) you want to be met.
   </p>
   <h3>
    Perlless Activation
   </h3>
   <p>
    Niklas (<a href="https://github.com/nikstur">@nikstur</a>), Julian
(<a href="https://github.com/blitz">@blitz</a>), and Linus (<a href="https://github.com/lheckemann">@lheckemann</a>) worked on getting
rid of all of the in Perl implemented activation scripts, since they are
legacy leftovers from the SystemV era and can be replaced using systemd
features (e.g. ExecPreStart, separate services). By removing the Perl
activation scripts, we should expect an overall increase in efficiency
during boot. For more details about their implementation plan and their
approach <a href="https://pad.lassul.us/perlless-activation">click
here</a>.
   </p>
   <h3>
    Improve Evaluation Performance of Strings
   </h3>
   <p>
    Tom (<a href="https://github.com/tomberek">@tomberek</a>) worked on
introducing an alternative string implementation to improve the
evaluation performance of strings, which is <code>O(N^2)</code> in some
cases. The idea was to use a <a href="https://en.wikipedia.org/wiki/Rope_(data_structure)">rope data
structure</a>, which makes concatenation and memory usage more
efficient.
   </p>
   <h3>
    Better User Experience when running NixOS Tests on a Mac
   </h3>
   <p>
    NixOS tests are one of the most powerful features of the NixOS
ecosystem as they allow one to system test one or more virtual machines
and their interactions (for a quick overview <a href="https://nixcademy.com/2023/10/24/nixos-integration-tests/">click
here</a>). Jacek’s <a href="https://github.com/tfc/">@tfc</a> plan to
achieve a better user experience for Mac users was to automatically set
up a Linux remote-builder to be able to build the required dependencies
for the NixOS test. When the NixOS machines, defined in the test, get
spawned as qemu-VMs the dependencies required by each machine get copied
respectively.
   </p>
   <h3>
    nixpkgs-merge-bot
   </h3>
   <p>
    <a href="https://github.com/lassulus">lassulus</a> and <a href="https://github.com/Mic92/">Mic92</a> worked together on the <a href="https://github.com/nixos/nixpkgs-merge-bot">nixpkgs-merge-bot</a>.
The bot was designed to help nixpkgs maintainers merge pull requests
that involve changes to their own packages. The bot enables maintainers
to efficiently respond to user feedback and perform self-service merges.
The bot is limited to packages within the “pkgs/by-name” directory in
nixpkgs.
   </p>
   <figure>
    <img class="m-auto md:h-72" src="/images/nixos-oceansprint-2023-10/pool.jpg" alt="Lassulus, Mic92 and Kranzes about to deploy nixpkgs-merge-bot.">
    <figcaption class="m-auto text-center">
     Lassulus, Mic92 and Kranzes about to deploy nixpkgs-merge-bot.
    </figcaption>
   </figure>
   <h3>
    GPU Access in the Nix Sandbox
   </h3>
   <p>
    Sergej <a href="https://github.com/someoneserge">@SomeoneSerge</a>
wrapped up his <a href="https://github.com/NixOS/nixpkgs/pull/256230">pull request</a> to
allow exposing devices and drivers (most importantly GPUs) by setting
the new <code>requiredSystemFeatures</code> to e.g.
<code>["cuda"]</code>.
   </p>
   <h2>
    The Activities
   </h2>
   <p>
    Because pictures say more than a thousand words: here are some
impressions from the various activities (surfing, diving, drumming,
etc.) people were able to participate in.
   </p>
   <div class="carousel carousel-center rounded-box bg-neutral p-4 space-x-4 not-prose w-full">
    <div class="carousel-item">
     <figure>
      <img class="rounded-box max-h-72" src="/images/nixos-oceansprint-2023-10/boat_trip_0.jpg" alt="Ocean Sprint participants on a boat">
      <figcaption class="text-center">
       The whole group went on a boat trip on one afternoon
      </figcaption>
     </figure>
    </div>
    <div class="carousel-item">
     <figure>
      <img class="rounded-box max-h-72" src="/images/nixos-oceansprint-2023-10/boat_trip_1.jpg" alt="Ocean Sprint solving problems on a boat">
      <figcaption class="text-center">
       Even on the boat the main topic was Nix
      </figcaption>
     </figure>
    </div>
    <div class="carousel-item">
     <figure>
      <img src="/images/nixos-oceansprint-2023-10/wine_tasting_2.jpg" alt="Photograph of the Ocean Sprint participants listening to the guided winery tour" class="rounded-box max-h-72">
      <figcaption class="text-center">
       We had a guided tour through a winery
      </figcaption>
     </figure>
    </div>
    <div class="carousel-item">
     <figure>
      <img src="/images/nixos-oceansprint-2023-10/wine_tasting_0.jpg" alt="Photograph wine tasting" class="rounded-box max-h-72">
      <figcaption class="text-center">
       Wine tasting after the guided tour
      </figcaption>
     </figure>
    </div>
    <div class="carousel-item">
     <figure>
      <img src="/images/nixos-oceansprint-2023-10/wine_tasting_1.jpg" alt="Photograph inside the winery" class="rounded-box max-h-72">
      <figcaption class="text-center">
       Inside the winery
      </figcaption>
     </figure>
    </div>
    <div class="carousel-item">
     <figure>
      <img class="rounded-box max-h-72" src="/images/nixos-oceansprint-2023-10/diving.jpg" alt="Ocean Sprint participants after diving">
      <figcaption class="text-center">
       Some participants went diving
      </figcaption>
     </figure>
    </div>
    <div class="carousel-item">
     <figure>
      <img class="rounded-box max-h-72" src="/images/nixos-oceansprint-2023-10/surfing_0.jpg" alt="Famara beach">
      <figcaption class="text-center">
       Others took surfing classes at Famara beach
      </figcaption>
     </figure>
    </div>
    <div class="carousel-item">
     <figure>
      <img class="rounded-box max-h-72" src="/images/nixos-oceansprint-2023-10/surfing_1.jpg" alt="Ocean Sprint participant surfing">
      <figcaption class="text-center">
       Some participants took surfing classes
      </figcaption>
     </figure>
    </div>
    <div class="carousel-item">
     <figure>
      <img class="rounded-box max-h-72" src="/images/nixos-oceansprint-2023-10/surfing_2.jpg" alt="Ocean Sprint participant surfing">
      <figcaption class="text-center">
       Some participants took surfing classes
      </figcaption>
     </figure>
    </div>
    <div class="carousel-item">
     <figure>
      <img class="rounded-box max-h-72" src="/images/nixos-oceansprint-2023-10/surfing_3.jpg" alt="Ocean Sprint participant surfing">
      <figcaption class="text-center">
       Some participants took surfing classes
      </figcaption>
     </figure>
    </div>
    <div class="carousel-item">
     <figure>
      <img class="rounded-box max-h-72" src="/images/nixos-oceansprint-2023-10/drumming.jpg" alt="Ocean Sprint participants taking a drumming class">
      <figcaption class="text-center">
       And others took drumming classes
      </figcaption>
     </figure>
    </div>
   </div>
   <h2>
    Summary
   </h2>
   <p>
    The NixOS Ocean Sprint is the perfect opportunity to spend time with
great people who have the same interest in Nix as you might have. If you
are working alone on a project and have a problem, there will be someone
there to help you with it, and if you work on a problem with someone
else, you benefit from the invaluably high communication frequency.
Moreover, it doesn’t matter how experienced you are. Everyone is
welcome, and no question is left unanswered. I personally love to listen
and absorb all the discussions revolving around Nix that are
omnipresent. And, of course, the activities and the great weather only
add to the experience.
   </p>
   <img src="/images/nixos-oceansprint-2023-10/group.jpg" alt="Ocean Sprint participants group photo">
  </article>
 </div>
</div>
</main>
<div class="max-w-2xl m-auto">
<div class="divider"></div>
</div>
<footer class="footer sm:footer-horizontal bg-base-100 max-w-2xl m-auto px-4 mb-4">
<aside>
 <span class="footer-title text-2xl">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" title="Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International" class="text-dark" style="text-decoration: none">
              
 <svg class="icon" viewbox="0 0 96 24">
  
                
  <use href="/images/icons.svg#cc-by-nc-sa"></use>
  
              
 </svg>
 
            
</a>

          
</span>
<p>
Except where otherwise noted, the content on this site is licenced
            under
            <a rel="license" itemprop="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" title="Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International"><abbr itemprop="license" title="Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International">CC BY-NC-SA 4.0</abbr></a>. Attribute to <strong itemprop="author">Marijan Petričević</strong> including
            a link to this <a href="https://marijan.pro/">site</a>.
</p>
</aside>
<nav>
<h6 class="footer-title">
Code:
</h6>
<div class="grid grid-flow-col gap-4">
<a href="https://git.sr.ht/~marijan/">
              
<svg class="icon" viewbox="0 0 24 24">
 
                
 <use href="/images/icons.svg#sourcehut"></use>
 
              
</svg>

            
</a>

            <a href="https://github.com/marijanp">
              
<svg class="icon" viewbox="0 0 24 24">

                
<use href="/images/icons.svg#github"></use>

              
</svg>

            
</a>
</div>
</nav>
<nav>
<h6 class="footer-title">
Contact:
</h6>
<div class="grid grid-flow-col gap-4">
<a href="xmpp:marijan@chat.marijan.pro">
              
<svg class="icon" viewbox="0 0 24 24">

                
<use href="/images/icons.svg#xmpp"></use>

              
</svg>

            
</a>

            <a href="mailto:marijan.petricevic94@gmail.com">
              
<svg class="icon" viewbox="0 0 100 100">

                
<use href="/images/icons.svg#envelope"></use>

              
</svg>

            
</a>
</div>
</nav>
<nav>
<h6 class="footer-title">
Social:
</h6>
<div class="grid grid-flow-col gap-4">
<a href="https://x.com/marijanpe">
              
<svg class="icon" viewbox="0 0 24 24">

                
<use href="/images/icons.svg#x"></use>

              
</svg>

            
</a>

            <a href="https://linkedin.com/in/marijanp">
              
<svg class="icon" viewbox="0 0 24 24">

                
<use href="/images/icons.svg#linkedin"></use>

              
</svg>

            
</a>
</div>
</nav>
</footer>
</body>
</html>
